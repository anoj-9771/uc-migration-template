{
	"name": "SQL script_Grant_Access",
	"properties": {
		"content": {
			"query": "----------Sample--------\n\n--  CREATE USER [bob@contoso.com] FROM EXTERNAL PROVIDER;\n--  CREATE USER [alice@fabrikam.onmicrosoft.com] FROM EXTERNAL PROVIDER;\n\n--  CREATE USER [ad group] FROM EXTERNAL PROVIDER;\n-- GO\n \n-- -- add user to role(s) in db \n-- EXEC sp_addrolemember 'db_datareader' , ' ad group '\n-- EXEC sp_addrolemember 'db_datawriter' , ' ad group '\n\n--------------------------------------\n\n\nCREATE USER [o5s5@sydneywater.com.au] FROM EXTERNAL PROVIDER;\nEXEC sp_addrolemember 'db_owner' , 'o5s5@sydneywater.com.au'\n\n\nCREATE USER [ozqc@sydneywater.com.au] FROM EXTERNAL PROVIDER;\nEXEC sp_addrolemember 'db_owner' , 'ozqc@sydneywater.com.au'\n\nCREATE USER [oq5s@sydneywater.com.au] FROM EXTERNAL PROVIDER;\nEXEC sp_addrolemember 'db_owner' , 'oq5s@sydneywater.com.au'\n\nCREATE USER [oe3y@sydneywater.com.au] FROM EXTERNAL PROVIDER;\nEXEC sp_addrolemember 'db_owner' , 'oe3y@sydneywater.com.au'\n\nCREATE USER [e3y@sydneywater.com.au] FROM EXTERNAL PROVIDER;\nEXEC sp_addrolemember 'db_owner' , 'e3y@sydneywater.com.au'\n\nCREATE USER [y2o@sydneywater.com.au] FROM EXTERNAL PROVIDER;\nEXEC sp_addrolemember 'db_datareader' , 'y2o@sydneywater.com.au'\n\nCREATE USER [A-Azure-DAF Databricks and Synapse Users DEV] FROM EXTERNAL PROVIDER;\nEXEC sp_addrolemember 'db_datareader' , 'A-Azure-DAF Databricks and Synapse Users DEV'\nEXEC sp_addrolemember 'db_datawriter' , 'A-Azure-DAF Databricks and Synapse Users DEV'\n\nCREATE USER [ub0@sydneywater.com.au] FROM EXTERNAL PROVIDER;\nEXEC sp_addrolemember 'db_datareader' , 'ub0@sydneywater.com.au'\nEXEC sp_addrolemember 'db_datawriter' , 'ub0@sydneywater.com.au'\n\nCREATE USER [ub0@sydneywater.com.au] FROM EXTERNAL PROVIDER;\nEXEC sp_addrolemember 'db_datareader' , 'ub0@sydneywater.com.au'\nEXEC sp_addrolemember 'db_datawriter' , 'ub0@sydneywater.com.au'\n\nCREATE USER [yce@sydneywater.com.au] FROM EXTERNAL PROVIDER;\nEXEC sp_addrolemember 'db_datareader' , 'yce@sydneywater.com.au'\nEXEC sp_addrolemember 'db_datawriter' , 'yce@sydneywater.com.au'\n\nCREATE USER [enl@sydneywater.com.au] FROM EXTERNAL PROVIDER;\nEXEC sp_addrolemember 'db_datareader' , 'enl@sydneywater.com.au'\nEXEC sp_addrolemember 'db_datawriter' , 'enl@sydneywater.com.au'\n \n\n\n\n--Create SQL Atuthentication user------\nCREATE LOGIN svc_synapse WITH PASSWORD = 'add your password'; -- in master DB\nCREATE USER svc_synapse FROM LOGIN svc_synapse; -- in syndwdev01\nEXEC sp_addrolemember 'db_owner' , 'svc_synapse' -- in syndwdev01\n",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "syndwdev01",
				"poolName": "syndwdev01"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}