/*
Deployment script for ZEASQLDBEDW01

This code was generated by a tool.
Changes to this file may cause incorrect behavior and will be lost if
the code is regenerated.
*/

GO
SET ANSI_NULLS, ANSI_PADDING, ANSI_WARNINGS, ARITHABORT, CONCAT_NULL_YIELDS_NULL, QUOTED_IDENTIFIER ON;

SET NUMERIC_ROUNDABORT OFF;


GO
:setvar DatabaseName "ZEASQLDBEDW01"
:setvar DefaultFilePrefix "ZEASQLDBEDW01"
:setvar DefaultDataPath ""
:setvar DefaultLogPath ""

GO
:on error exit
GO
/*
Detect SQLCMD mode and disable script execution if SQLCMD mode is not supported.
To re-enable the script after enabling SQLCMD mode, execute the following:
SET NOEXEC OFF; 
*/
:setvar __IsSqlCmdEnabled "True"
GO
IF N'$(__IsSqlCmdEnabled)' NOT LIKE N'True'
    BEGIN
        PRINT N'SQLCMD mode must be enabled to successfully execute this script.';
        SET NOEXEC ON;
    END


GO
IF EXISTS (SELECT 1
           FROM   [sys].[databases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET QUERY_STORE (QUERY_CAPTURE_MODE = ALL, CLEANUP_POLICY = (STALE_QUERY_THRESHOLD_DAYS = 367)) 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF EXISTS (SELECT 1
           FROM   [sys].[databases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET QUERY_STORE = OFF 
            WITH ROLLBACK IMMEDIATE;
    END


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0165_FEES_LIST_WAIVERS]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0165_FEES_LIST_WAIVERS] ALTER COLUMN [ADJUSTMENT_AMOUNT] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0165_INSTALMENT_PLANS]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0165_INSTALMENT_PLANS] ALTER COLUMN [AMOUNT] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_INSTALMENT_PLANS] ALTER COLUMN [EPAYMENT_EXTERNAL_REF] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_INSTALMENT_PLANS] ALTER COLUMN [EPAYMENT_STATUS_CODE] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_INSTALMENT_PLANS] ALTER COLUMN [EPAYMENT_TRANSACTION_ID] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_INSTALMENT_PLANS] ALTER COLUMN [INTERNAL_INVOICE_CODE] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_INSTALMENT_PLANS] ALTER COLUMN [INTERNAL_INVOICE_DATE] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0165_LOCATIONS]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0165_LOCATIONS] ALTER COLUMN [ADDRESS_LINE_1] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_LOCATIONS] ALTER COLUMN [ADDRESS_LINE_2] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_LOCATIONS] ALTER COLUMN [ADDRESS_LINE_3] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_LOCATIONS] ALTER COLUMN [ADDRESS_LINE_4] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0165_ORGANISATION_UNITS]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0165_ORGANISATION_UNITS] ALTER COLUMN [ADDRESS_LINE_1] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_ORGANISATION_UNITS] ALTER COLUMN [ADDRESS_LINE_2] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_ORGANISATION_UNITS] ALTER COLUMN [ADDRESS_LINE_3] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_ORGANISATION_UNITS] ALTER COLUMN [FES_FULL_NAME] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_ORGANISATION_UNITS] ALTER COLUMN [HEALTH_SAFETY_CERT_EXP_DATE] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_ORGANISATION_UNITS] ALTER COLUMN [HEALTH_SAFETY_STATUS] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_ORGANISATION_UNITS] ALTER COLUMN [LIABILITY_INS_EXPIRY_DATE] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_ORGANISATION_UNITS] ALTER COLUMN [TELEPHONE_NUMBER] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0165_PEOPLE]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [ASSES_FORM_EXPIRY_DATE] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [AUTHORITY_TO_ENROL_EXPIRY_DATE] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [CNX_CARDHOLDER_ID] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [COLLEGE_EMAIL] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [CONCESSION_CODE_EXPIRY] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [DATE_OF_BIRTH] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [ELECTRONIC_PAYMENT_REF_NO] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [ETHNICITY] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [EXPORT_ACCEPTANCE_DATE] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [MEDICAL_NO] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [MOBILE_PHONE_NUMBER] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [NZ_ETHNICITY_1] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [NZ_ETHNICITY_2] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [NZ_ETHNICITY_3] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [PASSPORT_EXPIRY_DATE] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [PASSPORT_ISSUE_COUNTRY] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [PASSPORT_NO] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [PERSONAL_EMAIL] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [PREFERRED_FIRST_NAME] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [PREVIOUS_SURNAME] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [SURNAME] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE] ALTER COLUMN [TAX_FILE_NO] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0165_PEOPLE_ASR]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE_ASR] ALTER COLUMN [HOME_TELEPHONE_NUMBER] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE_ASR] ALTER COLUMN [WORK_TELEPHONE_NUMBER] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0165_PEOPLE_UNITS]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE_UNITS] ALTER COLUMN [AMNT_PRIOR_LRN_CREDIT_OFFERED] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE_UNITS] ALTER COLUMN [AMNT_PRIOR_LRN_CREDIT_USED] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE_UNITS] ALTER COLUMN [EXTERNAL_SUBSIDISED_AMOUNT] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE_UNITS] ALTER COLUMN [HE_PRIOR_LRN_CREDIT_PROVIDER] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE_UNITS] ALTER COLUMN [LOAN_AMOUNT] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE_UNITS] ALTER COLUMN [PRIOR_FOE_CREDIT_OFFERED] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE_UNITS] ALTER COLUMN [PRIOR_LOE_CREDIT_OFFERED] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE_UNITS] ALTER COLUMN [PRIOR_STUDY_CREDIT_OFFERED] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE_UNITS] ALTER COLUMN [STANDARD_SUBSIDY_AMOUNT] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE_UNITS] ALTER COLUMN [SUBSIDISED_AMOUNT] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE_UNITS] ALTER COLUMN [SUBSIDY_COMMITMENT_EXPIRY_DATE] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE_UNITS] ALTER COLUMN [SUBSIDY_EXPORT_DATE] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0165_PEOPLE_UNITS_FINANCIAL]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE_UNITS_FINANCIAL] ALTER COLUMN [STUDENT_FEE_AMOUNT] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0165_PEOPLE_UNITS_SPECIAL]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE_UNITS_SPECIAL] ALTER COLUMN [CREDIT_ACHIEVED] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE_UNITS_SPECIAL] ALTER COLUMN [FUNDING_EXPIRY_DATE] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE_UNITS_SPECIAL] ALTER COLUMN [PLANNED_CREDIT] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0165_PEOPLE_USI]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0165_PEOPLE_USI] ALTER COLUMN [CITY_OF_BIRTH] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0165_REGISTER_EVENT_DETAILS_SLOTS]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0165_REGISTER_EVENT_DETAILS_SLOTS] ALTER COLUMN [AMOUNT_CLAIMED] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0165_SCHOOLS]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0165_SCHOOLS] ALTER COLUMN [ADDRESS_LINE_1] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_SCHOOLS] ALTER COLUMN [ADDRESS_LINE_2] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_SCHOOLS] ALTER COLUMN [ADDRESS_LINE_3] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_SCHOOLS] ALTER COLUMN [ADDRESS_LINE_4] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_SCHOOLS] ALTER COLUMN [EMAIL_ADDRESS] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_SCHOOLS] ALTER COLUMN [FULL_NAME] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_SCHOOLS] ALTER COLUMN [HEAD_SURNAME] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_SCHOOLS] ALTER COLUMN [TELEPHONE] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0165_UNIT_INSTANCE_OCCURRENCES]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0165_UNIT_INSTANCE_OCCURRENCES] ALTER COLUMN [COURSE_CREDITS] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_UNIT_INSTANCE_OCCURRENCES] ALTER COLUMN [DEFAULT_VTO_CODE] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_UNIT_INSTANCE_OCCURRENCES] ALTER COLUMN [MIN_CREDITS_REQUIRED] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_UNIT_INSTANCE_OCCURRENCES] ALTER COLUMN [PAYMENT_DUE_DATE] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0165_UNIT_INSTANCES]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0165_UNIT_INSTANCES] ALTER COLUMN [ACCREDITATION_EXPIRY_DATE] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_UNIT_INSTANCES] ALTER COLUMN [ACCREDITATION_TYPE] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_UNIT_INSTANCES] ALTER COLUMN [ACCREDITED_HOURS] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_UNIT_INSTANCES] ALTER COLUMN [ACCREDITED_UNITS] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_UNIT_INSTANCES] ALTER COLUMN [CATS_CREDITS] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_UNIT_INSTANCES] ALTER COLUMN [COURSE_CREDITS] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_UNIT_INSTANCES] ALTER COLUMN [MIN_CREDITS_REQUIRED] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_UNIT_INSTANCES] ALTER COLUMN [UNIT_CURRENCY_MONTHS] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_UNIT_INSTANCES] ALTER COLUMN [UNIT_CURRENCY_YEARS] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_UNIT_INSTANCES] ALTER COLUMN [VTO_CODE] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0165_USERS]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0165_USERS] ALTER COLUMN [DIALINUSERNAME] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_USERS] ALTER COLUMN [IPADDRESS] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_USERS] ALTER COLUMN [PASS] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_USERS] ALTER COLUMN [PASSEXPIRYDATE] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0165_VISA_SUBCLASSES]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0165_VISA_SUBCLASSES] ALTER COLUMN [VISA_CLASS] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_VISA_SUBCLASSES] ALTER COLUMN [VISA_TYPE] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0165_VISAS]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0165_VISAS] ALTER COLUMN [EXPIRY_DATE] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_VISAS] ALTER COLUMN [VISA_HOLDER_CODE] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_VISAS] ALTER COLUMN [VISA_LABEL_NO] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_VISAS] ALTER COLUMN [VISA_SUB_CLASS] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_VISAS] ALTER COLUMN [VISA_TYPE] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0165_WEB_CONFIG]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0165_WEB_CONFIG] ALTER COLUMN [AREA_CODE] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0165_Z_READ_BATCHES]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0165_Z_READ_BATCHES] ALTER COLUMN [BANKING_DEPOSIT_NO] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0165_Z_READ_BATCHES] ALTER COLUMN [BANKING_GROUP_ID] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[OneEBS_EBS_0900_UNIT_INSTANCES]...';


GO
ALTER TABLE [edw].[OneEBS_EBS_0900_UNIT_INSTANCES] ALTER COLUMN [ACCREDITATION_EXPIRY_DATE] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0900_UNIT_INSTANCES] ALTER COLUMN [ACCREDITATION_TYPE] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0900_UNIT_INSTANCES] ALTER COLUMN [ACCREDITED_HOURS] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0900_UNIT_INSTANCES] ALTER COLUMN [ACCREDITED_UNITS] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0900_UNIT_INSTANCES] ALTER COLUMN [CATS_CREDITS] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0900_UNIT_INSTANCES] ALTER COLUMN [COURSE_CREDITS] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0900_UNIT_INSTANCES] ALTER COLUMN [MIN_CREDITS_REQUIRED] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0900_UNIT_INSTANCES] ALTER COLUMN [UNIT_CURRENCY_MONTHS] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0900_UNIT_INSTANCES] ALTER COLUMN [UNIT_CURRENCY_YEARS] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[OneEBS_EBS_0900_UNIT_INSTANCES] ALTER COLUMN [VTO_CODE] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[Prada_dbo_COURSE_ENROLMENTS]...';


GO
ALTER TABLE [edw].[Prada_dbo_COURSE_ENROLMENTS] ALTER COLUMN [PASSTOT] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[Prada_dbo_COURSE_ENROLMENTS] ALTER COLUMN [SS_STANDARD_SUBSIDY_AMOUNT] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[Prada_dbo_COURSE_ENROLMENTS] ALTER COLUMN [SS_SUBSIDY_AMOUNT] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[Prada_dbo_COURSE_ENROLMENTS_FINALS]...';


GO
ALTER TABLE [edw].[Prada_dbo_COURSE_ENROLMENTS_FINALS] ALTER COLUMN [PASSTOT] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[Prada_dbo_COURSE_ENROLMENTS_FINALS] ALTER COLUMN [SS_STANDARD_SUBSIDY_AMOUNT] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[Prada_dbo_COURSE_ENROLMENTS_FINALS] ALTER COLUMN [SS_SUBSIDY_AMOUNT] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[reference_date]...';


GO
ALTER TABLE [edw].[reference_date] ALTER COLUMN [DateFullName] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[reference_funding_source_sbi_rules]...';


GO
ALTER TABLE [edw].[reference_funding_source_sbi_rules] ALTER COLUMN [Rule1_FundingSourceNationalID] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[reference_funding_source_sbi_rules] ALTER COLUMN [Rule10_FundingSourceNationalID] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[reference_funding_source_sbi_rules] ALTER COLUMN [Rule2_FundingSourceNationalID] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[reference_funding_source_sbi_rules] ALTER COLUMN [Rule9_FundingSourceNationalID] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[reference_ts_nsw_fund_group]...';


GO
ALTER TABLE [edw].[reference_ts_nsw_fund_group] ALTER COLUMN [FundingSourceNationalID] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[UMD_FactUnenteredMarks]...';


GO
ALTER TABLE [edw].[UMD_FactUnenteredMarks] ALTER COLUMN [CId] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[UMD_FactUnenteredMarks] ALTER COLUMN [FirstName] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[UMD_FactUnenteredMarks] ALTER COLUMN [LastName] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[UMD_FactUnenteredMarks] ALTER COLUMN [TeacherADEmail] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[UMD_FactUnenteredMarks] ALTER COLUMN [TeacherADUserName] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[UMD_TempTeachersMarks]...';


GO
ALTER TABLE [edw].[UMD_TempTeachersMarks] ALTER COLUMN [cid] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[UMD_TempTeachersMarks] ALTER COLUMN [First_Name] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [edw].[UMD_TempTeachersMarks] ALTER COLUMN [Last_Name] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [edw].[VCPrexip_participant]...';


GO
ALTER TABLE [edw].[VCPrexip_participant] ALTER COLUMN [remote_address] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [tsEChecklist].[ChecklistActions]...';


GO
ALTER TABLE [tsEChecklist].[ChecklistActions] ALTER COLUMN [DOB] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [tsEChecklist].[ChecklistActions] ALTER COLUMN [FirstName] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [tsEChecklist].[ChecklistActions] ALTER COLUMN [LastName] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [tsEChecklist].[ChecklistActions] ALTER COLUMN [VTO] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Altering Table [tsEChecklist].[ChecklistActionsInvalidRecords]...';


GO
ALTER TABLE [tsEChecklist].[ChecklistActionsInvalidRecords] ALTER COLUMN [DOB] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [tsEChecklist].[ChecklistActionsInvalidRecords] ALTER COLUMN [FirstName] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [tsEChecklist].[ChecklistActionsInvalidRecords] ALTER COLUMN [LastName] ADD MASKED WITH (FUNCTION = 'default()');

ALTER TABLE [tsEChecklist].[ChecklistActionsInvalidRecords] ALTER COLUMN [VTO] ADD MASKED WITH (FUNCTION = 'default()');


GO
PRINT N'Refreshing View [OneEBS].[Fees_List_Waivers]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[Fees_List_Waivers]';


GO
PRINT N'Refreshing View [OneEBS].[Instalment_Plans]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[Instalment_Plans]';


GO
PRINT N'Refreshing View [OneEBS].[Locations]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[Locations]';


GO
PRINT N'Refreshing View [compliance].[vwAvetmissCourseEnrolment_ReprocessOldPrada]...';


GO
EXECUTE sp_refreshsqlmodule N'[compliance].[vwAvetmissCourseEnrolment_ReprocessOldPrada]';


GO
PRINT N'Refreshing View [compliance].[vwAvetmissUnitEnrolmentFinals]...';


GO
EXECUTE sp_refreshsqlmodule N'[compliance].[vwAvetmissUnitEnrolmentFinals]';


GO
PRINT N'Refreshing View [OneEBS].[Organisation_Units]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[Organisation_Units]';


GO
PRINT N'Refreshing View [OneEBS].[People]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[People]';


GO
PRINT N'Refreshing View [OneEBS].[People_ASR]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[People_ASR]';


GO
PRINT N'Refreshing View [OneEBS].[People_Units]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[People_Units]';


GO
PRINT N'Refreshing View [OneEBS].[People_Units_Financial]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[People_Units_Financial]';


GO
PRINT N'Refreshing View [OneEBS].[People_Units_Special]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[People_Units_Special]';


GO
PRINT N'Refreshing View [OneEBS].[People_USI]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[People_USI]';


GO
PRINT N'Refreshing View [OneEBS].[Register_Event_Details_Slots]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[Register_Event_Details_Slots]';


GO
PRINT N'Refreshing View [OneEBS].[Schools]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[Schools]';


GO
PRINT N'Refreshing View [OneEBS].[Unit_Instance_Occurrences]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[Unit_Instance_Occurrences]';


GO
PRINT N'Refreshing View [OneEBS].[Users]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[Users]';


GO
PRINT N'Refreshing View [OneEBS].[Visa_Subclasses]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[Visa_Subclasses]';


GO
PRINT N'Refreshing View [OneEBS].[Visas]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[Visas]';


GO
PRINT N'Refreshing View [OneEBS].[Web_Config]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[Web_Config]';


GO
PRINT N'Refreshing View [OneEBS].[Z_Read_Batches]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[Z_Read_Batches]';


GO
PRINT N'Refreshing View [OneEBS].[900_Unit_Instances]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[900_Unit_Instances]';


GO
PRINT N'Refreshing View [OneEBS].[Unit_Instances]...';


GO
EXECUTE sp_refreshsqlmodule N'[OneEBS].[Unit_Instances]';


GO
PRINT N'Refreshing View [reference].[Date]...';


GO
EXECUTE sp_refreshsqlmodule N'[reference].[Date]';


GO
PRINT N'Refreshing View [reference].[FundingSourceSbiRules]...';


GO
EXECUTE sp_refreshsqlmodule N'[reference].[FundingSourceSbiRules]';


GO
PRINT N'Refreshing View [reference].[TsNswFundGroup]...';


GO
EXECUTE sp_refreshsqlmodule N'[reference].[TsNswFundGroup]';


GO
PRINT N'Refreshing View [compliance].[vwAvetmissCourseEnrolment]...';


GO
EXECUTE sp_refreshsqlmodule N'[compliance].[vwAvetmissCourseEnrolment]';


GO
PRINT N'Refreshing View [compliance].[vwAvetmissUnitCourseEnrolment]...';


GO
EXECUTE sp_refreshsqlmodule N'[compliance].[vwAvetmissUnitCourseEnrolment]';


GO
PRINT N'Refreshing View [reference].[FundingSourceExtended]...';


GO
EXECUTE sp_refreshsqlmodule N'[reference].[FundingSourceExtended]';


GO
PRINT N'Refreshing View [VCPexip].[VCParticipantDetail]...';


GO
EXECUTE sp_refreshsqlmodule N'[VCPexip].[VCParticipantDetail]';


GO
PRINT N'Refreshing View [EChecklist].[ChecklistActions]...';


GO
EXECUTE sp_refreshsqlmodule N'[EChecklist].[ChecklistActions]';


GO
PRINT N'Refreshing View [EChecklist].[EChecklistExceptionReport]...';


GO
EXECUTE sp_refreshsqlmodule N'[EChecklist].[EChecklistExceptionReport]';


GO
PRINT N'Refreshing Procedure [UMD].[USP_RefreshUMDDataModel]...';


GO
EXECUTE sp_refreshsqlmodule N'[UMD].[USP_RefreshUMDDataModel]';


GO
PRINT N'Refreshing Procedure [compliance].[PopulatePeopleUnitLinks]...';


GO
EXECUTE sp_refreshsqlmodule N'[compliance].[PopulatePeopleUnitLinks]';


GO
--This SP will drop any masking from the Production environment.
EXEC dbo.spDropAllMasking
GO

GO
PRINT N'Update complete.';


GO
